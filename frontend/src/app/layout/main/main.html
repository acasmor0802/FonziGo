<!-- Global UI Components -->
<app-toast></app-toast>
<app-loading-spinner></app-loading-spinner>

<app-header></app-header>

<main class="main-content">
  <div class="main-content__container" style="padding: 2rem;">
    <h1 style="text-align: center; margin-bottom: 2rem;">Component Showcase</h1>

    <!-- Login & Register -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Authentication</h2>
      <div style="display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap;">
        <app-login></app-login>
        <app-register></app-register>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Alerts -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Alerts</h2>
      <div style="display: flex; flex-direction: column; gap: 1rem; max-width: 25%; margin: 0 auto;">
        <app-alert type="success" [closeable]="true" style="text-align: center;">This is a success alert.</app-alert>
        <app-alert type="error" [closeable]="true" style="text-align: center;">This is an error alert.</app-alert>
        <app-alert type="warning" [closeable]="true" style="text-align: center;">This is a warning alert.</app-alert>
        <app-alert type="info" [closeable]="true" style="text-align: center;">This is an informational alert.</app-alert>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Buttons -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Buttons</h2>
      
      <h3 style="margin-top: 1.5rem; margin-bottom: 1rem; font-size: 1.1rem;">Button Variants</h3>
      <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
        <app-button variant="primary">Primary</app-button>
        <app-button variant="secondary">Secondary</app-button>
        <app-button variant="outline">Outline</app-button>
        <app-button variant="ghost">Ghost</app-button>
        <app-button variant="danger">Danger</app-button>
      </div>

      <h3 style="margin-top: 1.5rem; margin-bottom: 1rem; font-size: 1.1rem;">Button Sizes</h3>
      <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
        <app-button variant="primary" size="sm">Small</app-button>
        <app-button variant="primary" size="md">Medium</app-button>
        <app-button variant="primary" size="lg">Large</app-button>
      </div>

      <h3 style="margin-top: 1.5rem; margin-bottom: 1rem; font-size: 1.1rem;">Button States</h3>
      <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
        <app-button variant="primary">Normal</app-button>
        <app-button variant="primary" [disabled]="true">Disabled</app-button>
        <app-button variant="primary" [loading]="true">Loading</app-button>
        <app-button variant="primary" [fullWidth]="true">Full Width</app-button>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Forms -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Form Elements</h2>
      <div style="max-width: 400px;">
        <app-form-input 
          id="name"
          label="Full Name" 
          name="name" 
          placeholder="e.g., John Doe"
          helpText="Please enter your full name.">
        </app-form-input>
      </div>
      <div style="max-width: 400px; margin-top: 1rem;">
        <app-form-select
          id="options"
          label="Choose an Option"
          name="options"
          [options]="selectOptions">
        </app-form-select>
      </div>
      <div style="max-width: 400px; margin-top: 1rem;">
        <app-form-textarea
          id="description"
          label="Description"
          name="description"
          placeholder="Enter a detailed description..."
          helpText="Provide as much detail as possible"
          [rows]="4"
          [maxLength]="500">
        </app-form-textarea>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Product Cards Grid -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Productos Destacados</h2>
      <div class="products-grid">
        @for (product of sampleProducts; track product.id) {
          <app-product-card [product]="product"></app-product-card>
        }
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- ========== FASE 1: COMPONENTES INTERACTIVOS ========== -->

    <!-- Dynamic Demo - Renderer2 -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Dynamic DOM Manipulation</h2>
      <app-dynamic-demo></app-dynamic-demo>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Event Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Event System Demo</h2>
      <app-event-demo></app-event-demo>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Modal Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Modal Component</h2>
      <div style="text-align: center; padding: 2rem;">
        <app-button variant="primary" size="lg" (clicked)="openModal()">
          Abrir Modal
        </app-button>
      </div>

      <app-modal #demoModal>
        <div modal-header>
          <h2>Modal de Demostracion</h2>
        </div>
        <div modal-body>
          <p>Este es un modal completamente funcional con las siguientes caracteristicas:</p>
          <ul>
            <li>Cierre con boton X</li>
            <li>Cierre con tecla ESC</li>
            <li>Cierre al hacer click en el overlay</li>
            <li>stopPropagation en el contenido</li>
            <li>Animaciones suaves</li>
            <li>Bloqueo del scroll del body</li>
          </ul>
        </div>
        <div modal-footer>
          <app-button variant="secondary" size="md" (clicked)="demoModal.close()">
            Cancelar
          </app-button>
          <app-button variant="primary" size="md" (clicked)="demoModal.close()">
            Aceptar
          </app-button>
        </div>
      </app-modal>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Tabs Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Tabs Component</h2>
      <app-tabs></app-tabs>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Tooltip Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Tooltip Component</h2>
      <div style="display: flex; gap: 3rem; justify-content: center; align-items: center; padding: 3rem; flex-wrap: wrap;">
        <app-tooltip text="Tooltip arriba (default)" position="top">
          <app-button variant="primary" size="md">
            Hover me (Top)
          </app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip abajo" position="bottom">
          <app-button variant="secondary" size="md">
            Hover me (Bottom)
          </app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip izquierda" position="left">
          <app-button variant="outline" size="md">
            Hover me (Left)
          </app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip derecha" position="right">
          <app-button variant="ghost" size="md">
            Hover me (Right)
          </app-button>
        </app-tooltip>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Accordion Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Accordion Component</h2>
      <app-accordion></app-accordion>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- ========== SERVICIOS GLOBALES ========== -->

    <!-- Toast & Loading Demo -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Toast & Loading Services</h2>
      <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; padding: 2rem;">
        <app-button variant="primary" (clicked)="showSuccessToast()">
          Toast Success
        </app-button>
        <app-button variant="danger" (clicked)="showErrorToast()">
          Toast Error
        </app-button>
        <app-button variant="secondary" (clicked)="showInfoToast()">
          Toast Info
        </app-button>
        <app-button variant="outline" (clicked)="showWarningToast()">
          Toast Warning
        </app-button>
        <app-button variant="primary" (clicked)="simulateLoading()">
          Simulate Loading (2s)
        </app-button>
      </div>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- ========== FORMULARIOS REACTIVOS ========== -->

    <!-- Contact Form -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Contact Form (Reactive + Validators)</h2>
      <app-contact-form></app-contact-form>
    </section>

    <hr style="margin: 2rem 0;">

    <!-- Invoice Form with FormArray -->
    <section>
      <h2 style="border-bottom: 1px solid #ccc; padding-bottom: 0.5rem; margin-bottom: 1rem;">Invoice Form (FormArray Demo)</h2>
      <app-invoice-form></app-invoice-form>
    </section>

  </div>
</main>

<app-footer></app-footer>