<div class="product-card">
  <!-- IMAGEN -->
  <div class="product-card__image">
    <img [src]="product.image" [alt]="product.name" />
    <span *ngIf="bestPrice()?.discount" class="product-card__badge">-{{ bestPrice()!.discount }}%</span>
  </div>

  <!-- INFORMACIÓN -->
  <div class="product-card__info">
    <h3 class="product-card__name">{{ product.name }}</h3>
    <p class="product-card__category">{{ product.category }}</p>
    
    <!-- RATING -->
    <div *ngIf="product.rating" class="product-card__rating">
      <span class="rating-stars">
        <span *ngFor="let i of [1,2,3,4,5]" [class.active]="i <= Math.round(product.rating!)">★</span>
      </span>
      <span class="rating-text">{{ product.rating }} ({{ product.reviews }})</span>
    </div>

    <!-- PRECIO -->
    <div class="product-card__price">
      <div class="price-main">
        <span class="price-amount">€{{ bestPrice()!.price.toFixed(2) }}</span>
        <span *ngIf="bestPrice()!.originalPrice" class="price-original">€{{ bestPrice()!.originalPrice!.toFixed(2) }}</span>
      </div>
      <p class="price-store">{{ bestPrice()!.store }}</p>
    </div>

    <!-- AHORRO -->
    <div *ngIf="savingsAmount() > 0" class="product-card__savings">
      ¡Ahorras €{{ savingsAmount().toFixed(2) }}!
    </div>
  </div>

  <!-- BOTÓN -->
  <button class="product-card__button btn btn-primary" type="button">
    Ver ofertas
  </button>
</div>
